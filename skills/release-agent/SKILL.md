# Release Agent

将生成的代码部署到前端，并自动提交 git。

## Usage

```bash
node skills/release-agent/index.js
```

## Logic

1. 读取 `data/submissions.json`
2. 筛选状态为 `BUILT` 的提交
3. 对每个提交：
   - 验证 `public/features/feature-{id}.js` 存在
   - 添加到 `data/features.json`
   - 执行 `git add`, `git commit`
   - 尝试 `git push`
4. 更新提交状态为 `RELEASED`

## Git 自动提交

### Commit 格式
```
feat: {用户原始需求}

- Submission #{id}
- Type: {moduleType}
- Generated at {timestamp}
- Generated by Codex
```

### Git 操作
1. `git add public/features/feature-{id}.js`
2. `git add data/`
3. `git commit -m "feat: ..."`
4. `git push` (如果失败不阻断流程)

### 非 Git 环境
如果项目不是 git 仓库，会自动跳过 git 操作，继续执行部署。

## 输出

- `data/submissions.json` - 提交状态更新
- `data/features.json` - 已发布功能列表
- Git commit (如果在 git 仓库中)
